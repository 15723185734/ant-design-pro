(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8529],{34540:function(X,A,e){"use strict";var S=e(22122),Z=e(28991),K=e(81253),u=e(67294),$=e(45158),s=e(86190),D=e(66758),w=["fieldProps","proFieldProps"],j="dateRange",W=u.forwardRef(function(M,P){var B=M.fieldProps,p=M.proFieldProps,o=(0,K.Z)(M,w),t=(0,u.useContext)(D.Z);return u.createElement($.Z,(0,S.Z)({ref:P,mode:"edit",fieldProps:(0,Z.Z)({getPopupContainer:t.getPopupContainer},B),valueType:j,proFieldProps:p,filedConfig:{valueType:j,lightFilterLabelFormatter:function(h){return(0,s.Z)(h,"YYYY-MM-DD")}}},o))});A.Z=W},64317:function(X,A,e){"use strict";var S=e(22122),Z=e(28991),K=e(81253),u=e(67294),$=e(45158),s=e(22270),D=e(66758),w=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],j=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],W=u.forwardRef(function(o,t){var T=o.fieldProps,h=o.children,V=o.params,Y=o.proFieldProps,k=o.mode,J=o.valueEnum,q=o.request,_=o.showSearch,G=o.options,ee=(0,K.Z)(o,w),re=(0,u.useContext)(D.Z);return u.createElement($.Z,(0,S.Z)({mode:"edit",valueEnum:(0,s.h)(J),request:q,params:V,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,Z.Z)({options:G,mode:k,showSearch:_,getPopupContainer:re.getPopupContainer},T),ref:t,proFieldProps:Y},ee),h)}),M=u.forwardRef(function(o,t){var T=o.fieldProps,h=o.children,V=o.params,Y=o.proFieldProps,k=o.mode,J=o.valueEnum,q=o.request,_=o.options,G=(0,K.Z)(o,j),ee=(0,Z.Z)({options:_,mode:k||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},T),re=(0,u.useContext)(D.Z);return u.createElement($.Z,(0,S.Z)({mode:"edit",valueEnum:(0,s.h)(J),request:q,params:V,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,Z.Z)({getPopupContainer:re.getPopupContainer},ee),ref:t,proFieldProps:Y},G),h)}),P=W,B=M,p=P;p.SearchSelect=B,p.displayName="ProFormComponent",A.Z=p},5966:function(X,A,e){"use strict";var S=e(22122),Z=e(81253),K=e(67294),u=e(45158),$=["fieldProps","proFieldProps"],s=["fieldProps","proFieldProps"],D="text",w=function(P){var B=P.fieldProps,p=P.proFieldProps,o=(0,Z.Z)(P,$);return K.createElement(u.Z,(0,S.Z)({mode:"edit",valueType:D,fieldProps:B,filedConfig:{valueType:D},proFieldProps:p},o))},j=function(P){var B=P.fieldProps,p=P.proFieldProps,o=(0,Z.Z)(P,s);return K.createElement(u.Z,(0,S.Z)({mode:"edit",valueType:"password",fieldProps:B,proFieldProps:p,filedConfig:{valueType:D}},o))},W=w;W.Password=j,W.displayName="ProFormComponent",A.Z=W},5393:function(X){X.exports={card:"antd-pro-pages-form-advanced-form-style-card",errorIcon:"antd-pro-pages-form-advanced-form-style-errorIcon",anticon:"antd-pro-pages-form-advanced-form-style-anticon",errorPopover:"antd-pro-pages-form-advanced-form-style-errorPopover",errorListItem:"antd-pro-pages-form-advanced-form-style-errorListItem",errorField:"antd-pro-pages-form-advanced-form-style-errorField",editable:"antd-pro-pages-form-advanced-form-style-editable"}},79969:function(X,A,e){"use strict";e.r(A),e.d(A,{default:function(){return Ue}});var S=e(58024),Z=e(39144),K=e(13062),u=e(71230),$=e(89032),s=e(15746),D=e(34792),w=e(48086),j=e(3182),W=e(20136),M=e(55241),P=e(2824),B=e(94043),p=e.n(B),o=e(73218),t=e(67294),T=e(22122),h=e(28991),V=e(81253),Y=e(45158),k=e(86190),J=e(66758),q=["fieldProps","proFieldProps"],_=["fieldProps","proFieldProps"],G="time",ee=t.forwardRef(function(r,d){var E=r.fieldProps,i=r.proFieldProps,I=(0,V.Z)(r,q),R=(0,t.useContext)(J.Z);return t.createElement(Y.Z,(0,T.Z)({ref:d,mode:"edit",fieldProps:(0,h.Z)({getPopupContainer:R.getPopupContainer},E),valueType:"timeRange",proFieldProps:i,filedConfig:{valueType:"timeRange",lightFilterLabelFormatter:function(z){return(0,k.Z)(z,"HH:mm:SS")}}},I))}),re=function(d){var E=d.fieldProps,i=d.proFieldProps,I=(0,V.Z)(d,_),R=(0,t.useContext)(J.Z);return t.createElement(Y.Z,(0,T.Z)({mode:"edit",fieldProps:(0,h.Z)({getPopupContainer:R.getPopupContainer},E),valueType:G,proFieldProps:i,filedConfig:{customLightMode:!0,valueType:G}},I))},se=re;se.RangePicker=ee;var ge=se,de=e(952),ne=e(5966),H=e(64317),Ee=e(34540),Qe=e(9715),Fe=e(86585),Xe=e(57663),xe=e(71577),ye=e(96156),Ce=e(28481),Ze=e(87757),ie=e.n(Ze),Te=e(92137),Re=e(21770),be=e(49101),ue=e(22270),De=e(48171),je=e(93130),Me=e(59568),Be=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue"],Ie=["record","position","creatorButtonText","newRecordType","parentKey"],me=t.createContext(void 0);function ce(r){var d=r.children,E=r.record,i=r.position,I=r.newRecordType,R=r.parentKey,F=(0,t.useContext)(me);return t.cloneElement(d,(0,h.Z)((0,h.Z)({},d.props),{},{onClick:function(){var z=(0,Te.Z)(ie().mark(function x(m){var c,U,l,n;return ie().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(c=(U=d.props).onClick)===null||c===void 0?void 0:c.call(U,m);case 2:if(n=C.sent,n!==!1){C.next=5;break}return C.abrupt("return");case 5:F==null||(l=F.current)===null||l===void 0||l.addEditRecord(E,{position:i,newRecordType:I,parentKey:R});case 6:case"end":return C.stop()}},x)}));function ae(x){return z.apply(this,arguments)}return ae}()}))}function ve(r){var d,E=r.onTableChange,i=r.maxLength,I=r.formItemProps,R=r.recordCreatorProps,F=r.rowKey,z=r.controlled,ae=r.defaultValue,x=(0,V.Z)(r,Be),m=(0,t.useRef)(),c=(0,t.useRef)();(0,t.useImperativeHandle)(x.actionRef,function(){return m.current});var U=(0,Re.Z)(function(){return r.value||ae||[]},{value:r.value,onChange:r.onChange}),l=(0,Ce.Z)(U,2),n=l[0],y=l[1],C=t.useMemo(function(){return typeof F=="function"&&F?F:function(b,f){return b[F]||f}},[F]);(0,t.useEffect)(function(){!r.controlled||n.forEach(function(b,f){var v;(v=c.current)===null||v===void 0||v.setFieldsValue((0,ye.Z)({},C(b,f),b))},{})},[n,r.controlled]);var Q=R||{},$e=Q.record,fe=Q.position,we=Q.creatorButtonText,Ye=Q.newRecordType,Je=Q.parentKey,Ge=(0,V.Z)(Q,Ie),Pe=fe==="top",te=(0,t.useMemo)(function(){return i&&i<=(n==null?void 0:n.length)?!1:R!==!1&&t.createElement(ce,{record:(0,ue.h)($e,n==null?void 0:n.length,n)||{},position:fe,parentKey:(0,ue.h)(Je,n==null?void 0:n.length,n),newRecordType:Ye},t.createElement(xe.Z,(0,T.Z)({type:"dashed",style:{display:"block",margin:"10px 0",width:"100%"},icon:t.createElement(be.Z,null)},Ge),we||"\u6DFB\u52A0\u4E00\u884C\u6570\u636E"))},[R,i,n==null?void 0:n.length]),He=(0,t.useMemo)(function(){return te?Pe?{components:{header:{wrapper:function(f){var v,O=f.className,L=f.children;return t.createElement("thead",{className:O},L,t.createElement("tr",{style:{position:"relative"}},t.createElement("td",{colSpan:0,style:{visibility:"hidden"}},te),t.createElement("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(v=x.columns)===null||v===void 0?void 0:v.length},te)))}}}}:{tableViewRender:function(f,v){var O,L;return t.createElement(t.Fragment,null,(O=(L=r.tableViewRender)===null||L===void 0?void 0:L.call(r,f,v))!==null&&O!==void 0?O:v,te)}}:{}},[Pe,te]),he=(0,h.Z)({},r.editable),ze=(0,De.J)(function(b,f){var v,O,L;if((v=r.editable)===null||v===void 0||(O=v.onValuesChange)===null||O===void 0||O.call(v,b,f),(L=r.onValuesChange)===null||L===void 0||L.call(r,f,b),r.controlled){var le;r==null||(le=r.onChange)===null||le===void 0||le.call(r,f)}});return((r==null?void 0:r.onValuesChange)||((d=r.editable)===null||d===void 0?void 0:d.onValuesChange)||r.controlled&&(r==null?void 0:r.onChange))&&(he.onValuesChange=ze),t.createElement(me.Provider,{value:m},t.createElement(Me.Z,(0,T.Z)({search:!1,options:!1,pagination:!1,rowKey:F,revalidateOnFocus:!1},x,He,{tableLayout:"fixed",actionRef:m,onChange:E,dataSource:n,editable:(0,h.Z)((0,h.Z)({},he),{},{formProps:{formRef:c}}),onDataSourceChange:function(f){y(f)}})))}function pe(r){var d=r.name,E=r.formItemProps;return d?t.createElement(Fe.Z.Item,(0,T.Z)({style:{maxWidth:"100%"}},E,{name:r.name}),t.createElement(t.Fragment,null,t.createElement(je.gN,{shouldUpdate:!0,name:r.name,isList:!0},function(i){return t.createElement(ve,(0,T.Z)({},r,{value:i.value,onChange:i.onChange}))}))):t.createElement(ve,r)}pe.RecordCreator=ce;var Oe=pe,Le=e(85224),Ae=e(75362),Se=e(21010);function Ke(r){return oe.apply(this,arguments)}function oe(){return oe=(0,j.Z)(p().mark(function r(d){return p().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,Se.WY)("/api/advancedForm",{method:"POST",data:d}));case 1:case"end":return i.stop()}},r)})),oe.apply(this,arguments)}var We=e(5393),N=e.n(We),a=e(85893),g={name:"\u4ED3\u5E93\u540D",url:"\u4ED3\u5E93\u57DF\u540D",owner:"\u4ED3\u5E93\u7BA1\u7406\u5458",approver:"\u5BA1\u6279\u4EBA",dateRange:"\u751F\u6548\u65E5\u671F",type:"\u4ED3\u5E93\u7C7B\u578B",name2:"\u4EFB\u52A1\u540D",url2:"\u4EFB\u52A1\u63CF\u8FF0",owner2:"\u6267\u884C\u4EBA",approver2:"\u8D23\u4EFB\u4EBA",dateRange2:"\u751F\u6548\u65E5\u671F",type2:"\u4EFB\u52A1\u7C7B\u578B"},Ve=[{key:"1",workId:"00001",name:"John Brown",department:"New York No. 1 Lake Park"},{key:"2",workId:"00002",name:"Jim Green",department:"London No. 1 Lake Park"},{key:"3",workId:"00003",name:"Joe Black",department:"Sidney No. 1 Lake Park"}],Ne=function(){var d=(0,t.useState)([]),E=(0,P.Z)(d,2),i=E[0],I=E[1],R=function(m){var c=m.filter(function(n){return n.errors.length>0}).length;if(!m||c===0)return null;var U=function(y){var C=document.querySelector('label[for="'.concat(y,'"]'));C&&C.scrollIntoView(!0)},l=m.map(function(n){if(!n||n.errors.length===0)return null;var y=n.name[0];return(0,a.jsxs)("li",{className:N().errorListItem,onClick:function(){return U(y)},children:[(0,a.jsx)(o.Z,{className:N().errorIcon}),(0,a.jsx)("div",{className:N().errorMessage,children:n.errors[0]}),(0,a.jsx)("div",{className:N().errorField,children:g[y]})]},y)});return(0,a.jsxs)("span",{className:N().errorIcon,children:[(0,a.jsx)(M.Z,{title:"\u8868\u5355\u6821\u9A8C\u4FE1\u606F",content:l,overlayClassName:N().errorPopover,trigger:"click",getPopupContainer:function(y){return y&&y.parentNode?y.parentNode:y},children:(0,a.jsx)(o.Z,{})}),c]})},F=function(){var x=(0,j.Z)(p().mark(function m(c){return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return I([]),l.prev=1,l.next=4,Ke(c);case 4:w.default.success("\u63D0\u4EA4\u6210\u529F"),l.next=9;break;case 7:l.prev=7,l.t0=l.catch(1);case 9:case"end":return l.stop()}},m,null,[[1,7]])}));return function(c){return x.apply(this,arguments)}}(),z=function(m){I(m.errorFields)},ae=[{title:"\u6210\u5458\u59D3\u540D",dataIndex:"name",key:"name",width:"20%"},{title:"\u5DE5\u53F7",dataIndex:"workId",key:"workId",width:"20%"},{title:"\u6240\u5C5E\u90E8\u95E8",dataIndex:"department",key:"department",width:"40%"},{title:"\u64CD\u4F5C",key:"action",valueType:"option",render:function(m,c,U,l){return[(0,a.jsx)("a",{onClick:function(){l==null||l.startEditable(c.key)},children:"\u7F16\u8F91"},"eidit")]}}];return(0,a.jsx)(de.ZP,{layout:"vertical",hideRequiredMark:!0,submitter:{render:function(m,c){return(0,a.jsxs)(Le.Z,{children:[R(i),c]})}},initialValues:{members:Ve},onFinish:F,onFinishFailed:z,children:(0,a.jsxs)(Ae.ZP,{content:"\u9AD8\u7EA7\u8868\u5355\u5E38\u89C1\u4E8E\u4E00\u6B21\u6027\u8F93\u5165\u548C\u63D0\u4EA4\u5927\u6279\u91CF\u6570\u636E\u7684\u573A\u666F\u3002",children:[(0,a.jsxs)(Z.Z,{title:"\u4ED3\u5E93\u7BA1\u7406",className:N().card,bordered:!1,children:[(0,a.jsxs)(u.Z,{gutter:16,children:[(0,a.jsx)(s.Z,{lg:6,md:12,sm:24,children:(0,a.jsx)(ne.Z,{label:g.name,name:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4ED3\u5E93\u540D\u79F0"}],placeholder:"\u8BF7\u8F93\u5165\u4ED3\u5E93\u540D\u79F0"})}),(0,a.jsx)(s.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,a.jsx)(ne.Z,{label:g.url,name:"url",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}],fieldProps:{style:{width:"100%"},addonBefore:"http://",addonAfter:".com"},placeholder:"\u8BF7\u8F93\u5165"})}),(0,a.jsx)(s.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,a.jsx)(H.Z,{label:g.owner,name:"owner",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}],placeholder:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"})})]}),(0,a.jsxs)(u.Z,{gutter:16,children:[(0,a.jsx)(s.Z,{lg:6,md:12,sm:24,children:(0,a.jsx)(H.Z,{label:g.approver,name:"approver",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}],placeholder:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"})}),(0,a.jsx)(s.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,a.jsx)(Ee.Z,{label:g.dateRange,name:"dateRange",fieldProps:{style:{width:"100%"}},rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u751F\u6548\u65E5\u671F"}]})}),(0,a.jsx)(s.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,a.jsx)(H.Z,{label:g.type,name:"type",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"}],options:[{label:"\u79C1\u5BC6",value:"private"},{label:"\u516C\u5F00",value:"public"}],placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"})})]})]}),(0,a.jsxs)(Z.Z,{title:"\u4EFB\u52A1\u7BA1\u7406",className:N().card,bordered:!1,children:[(0,a.jsxs)(u.Z,{gutter:16,children:[(0,a.jsx)(s.Z,{lg:6,md:12,sm:24,children:(0,a.jsx)(ne.Z,{label:g.name2,name:"name2",rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}]})}),(0,a.jsx)(s.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,a.jsx)(ne.Z,{label:g.url2,name:"url2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}]})}),(0,a.jsx)(s.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,a.jsx)(H.Z,{label:g.owner2,name:"owner2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}]})})]}),(0,a.jsxs)(u.Z,{gutter:16,children:[(0,a.jsx)(s.Z,{lg:6,md:12,sm:24,children:(0,a.jsx)(H.Z,{label:g.approver2,name:"approver2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}],placeholder:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"})}),(0,a.jsx)(s.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,a.jsx)(ge,{label:g.dateRange2,name:"dateRange2",rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}],placeholder:"\u63D0\u9192\u65F6\u95F4",fieldProps:{style:{width:"100%"}}})}),(0,a.jsx)(s.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,a.jsx)(H.Z,{label:g.type2,name:"type2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"}],options:[{label:"\u79C1\u5BC6",value:"private"},{label:"\u516C\u5F00",value:"public"}],placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"})})]})]}),(0,a.jsx)(Z.Z,{title:"\u6210\u5458\u7BA1\u7406",bordered:!1,children:(0,a.jsx)(de.ZP.Item,{name:"members",children:(0,a.jsx)(Oe,{recordCreatorProps:{record:function(){return{key:"0".concat(Date.now())}}},columns:ae,rowKey:"key"})})})]})})},Ue=Ne}}]);
